{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://raw.githubusercontent.com/TWilkin/powerpi/main/kubernetes/values.schema.json",
    "title": "PowerPi Helm Chart",
    "description": "The configuration for the PowerPi Helm deployment",
    "type": "object",
    "properties": {
        "global": {
            "type": "object",
            "properties": {
                "env": {
                    "description": "The environment to deploy for 'production' or 'dev'",
                    "type": "string",
                    "enum": ["dev", "production"]
                },

                "externalHostName": {
                    "description": "The external host name to use when requesting certificates and to configure for ingress",
                    "type": "string",
                    "pattern": "^\\w+(\\.\\w+)+$"
                },

                "certificateEmail": {
                    "description": "The email address to use for HTTPS certificate renewal",
                    "type": "string",
                    "format": "email"
                },

                "useSSL": {
                    "description": "Whether to use SSL for the UI, API and voice integration",
                    "type": "boolean"
                },

                "useCluster": {
                    "description": "Whether PowerPi is deployed in a kubernetes cluster (i.e. has more than 1 node)",
                    "type": "boolean"
                },

                "useSensors": {
                    "description": "Whether to allow access to the message queue from outside of kubernetes (to support external sensors publishing events)",
                    "type": "boolean"
                },

                "freeDNS": {
                    "description": "Whether to deploy the FreeDNS service",
                    "type": "boolean"
                },

                "config": {
                    "description": "Whether to include the config-server service to get configuration from GitHub",
                    "type": "boolean"
                },

                "persistence": {
                    "description": "Whether to include the persistence service to store messages in a database",
                    "type": "boolean"
                },

                "scheduler": {
                    "description": "Whether to include the scheduler service to update devices on a schedule",
                    "type": "boolean"
                },

                "voiceAssistant": {
                    "description": "Whether to include the voice assistant service for Alexa integration",
                    "type": "boolean"
                },

                "energenie": {
                    "description": "Whether to include Energenie support",
                    "type": "boolean"
                },

                "harmony": {
                    "description": "Whether to include Logitech Harmony support",
                    "type": "boolean"
                },

                "lifx": {
                    "description": "Whether to include LIFX support",
                    "type": "boolean"
                },

                "zigbee": {
                    "description": "Whether to include ZigBee support",
                    "type": "boolean"
                },

                "network": {
                    "description": "Whether to include control of networked devices (i.e. computers)",
                    "type": "boolean"
                },

                "node": {
                    "description": "Whether to include node monitoring support",
                    "type": "boolean"
                },

                "pijuice": {
                    "description": "Whether to include PiJuice support",
                    "type": "boolean"
                },

                "pwm": {
                    "description": "Whether to include node PWM fan control",
                    "type": "boolean"
                },

                "energy-monitor": {
                    "description": "Whether to include N3rgy energy monitoring support",
                    "type": "boolean"
                }
            },
            "additionalProperties": false
        }
    }
}
